module.exports.id = 'ace/mode/lua_worker';
module.exports.src = "!function(o){var t,n;void 0!==o.window&&o.document||o.acequire&&o.define||(o.console||(o.console=function(){var e=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:e})},o.console.error=o.console.warn=o.console.log=o.console.trace=o.console),((o.window=o).ace=o).onerror=function(e,t,n,r,i){postMessage({type:\"error\",data:{message:e,data:i&&i.data,file:t,line:n,col:r,stack:i&&i.stack}})},o.normalizeModule=function(e,t){if(-1!==t.indexOf(\"!\"))return n=t.split(\"!\"),o.normalizeModule(e,n[0])+\"!\"+o.normalizeModule(e,n[1]);if(\".\"==t.charAt(0)){var n=e.split(\"/\").slice(0,-1).join(\"/\");for(t=(n?n+\"/\":\"\")+t;-1!==t.indexOf(\".\")&&r!=t;){var r=t;t=t.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return t},o.acequire=function(e,t){if(t||(t=e,e=null),!t.charAt)throw new Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");t=o.normalizeModule(e,t);var n=o.acequire.modules[t];return n?(n.initialized||(n.initialized=!0,n.exports=n.factory().exports),n.exports):o.acequire.tlns?(\".js\"!=(n=function(e,t){var n=e,r=\"\";for(;n;){var i=t[n];if(\"string\"==typeof i)return i+r;if(i)return i.location.replace(/\\/*$/,\"/\")+(r||i.main||i.name);if(!1===i)return\"\";i=n.lastIndexOf(\"/\");if(-1===i)break;r=n.substr(i)+r,n=n.slice(0,i)}return e}(t,o.acequire.tlns)).slice(-3)&&(n+=\".js\"),o.acequire.id=t,o.acequire.modules[t]={},importScripts(n),o.acequire(e,t)):console.log(\"unable to load \"+t)},o.acequire.modules={},o.acequire.tlns={},o.define=function(t,n,r){var i;2==arguments.length?(r=n,\"string\"!=typeof t&&(n=t,t=o.acequire.id)):1==arguments.length&&(r=t,n=[],t=o.acequire.id),\"function\"!=typeof r?o.acequire.modules[t]={exports:r,initialized:!0}:(n.length||(n=[\"require\",\"exports\",\"module\"]),i=function(e){return o.acequire(t,e)},o.acequire.modules[t]={exports:{},factory:function(){var t=this,e=r.apply(this,n.slice(0,r.length).map(function(e){switch(e){case\"require\":return i;case\"exports\":return t.exports;case\"module\":return t;default:return i(e)}}));return e&&(t.exports=e),t}})},o.define.amd={},o.acequire.tlns={},o.initBaseUrls=function(e){for(var t in e)this.acequire.tlns[t]=e[t]},o.initSender=function(){function e(){}var t=o.acequire(\"ace/lib/event_emitter\").EventEmitter,n=o.acequire(\"ace/lib/oop\");return function(){n.implement(this,t),this.callback=function(e,t){postMessage({type:\"call\",id:t,data:e})},this.emit=function(e,t){postMessage({type:\"event\",name:e,data:t})}}.call(e.prototype),new e},t=o.main=null,n=o.sender=null,o.onmessage=function(e){var e=e.data;if(e.event&&n)n._signal(e.event,e.data);else if(e.command)if(t[e.command])t[e.command].apply(t,e.args);else{if(!o[e.command])throw new Error(\"Unknown command:\"+e.command);o[e.command].apply(o,e.args)}else e.init&&(o.initBaseUrls(e.tlns),n=o.sender=o.initSender(),e=this.acequire(e.module)[e.classname],t=o.main=new e(n))})}(this),ace.define(\"ace/lib/oop\",[],function(e,n,t){\"use strict\";n.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},n.implement=function(e,t){n.mixin(e,t)}}),ace.define(\"ace/apply_delta\",[],function(e,t,n){\"use strict\";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||\"\";switch(t.action){case\"insert\":1===t.lines.length?e[r]=o.substring(0,i)+t.lines[0]+o.substring(i):(s=[r,1].concat(t.lines),e.splice.apply(e,s),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i));break;case\"remove\":var s=t.end.column,a=t.end.row;r===a?e[r]=o.substring(0,i)+o.substring(s):e.splice(r,a-r+1,o.substring(0,i)+e[a].substring(s))}}}),ace.define(\"ace/lib/event_emitter\",[],function(e,t,n){\"use strict\";function o(){this.propagationStopped=!0}function s(){this.defaultPrevented=!0}var r={};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){(t=\"object\"==typeof t&&t?t:{}).type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=s);for(var n=n.slice(),i=0;i<n.length&&(n[i](t,this),!t.propagationStopped);i++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){if(n=(this._eventRegistry||{})[e])for(var n=n.slice(),r=0;r<n.length;r++)n[r](t,this)},r.once=function(t,n){var r=this;if(this.on(t,function e(){r.off(t,e),n.apply(null,arguments)}),!n)return new Promise(function(e){n=e})},r.setDefaultHandler=function(e,t){var n,r,i=this._defaultHandlers;(i=i||(this._defaultHandlers={_disabled_:{}}))[e]&&(r=i[e],(n=i._disabled_[e])||(i._disabled_[e]=n=[]),n.push(r),-1!=(r=n.indexOf(t))&&n.splice(r,1)),i[e]=t},r.removeDefaultHandler=function(e,t){var n,r=this._defaultHandlers;r&&(n=r._disabled_[e],r[e]==t?n&&this.setDefaultHandler(e,n.pop()):n&&-1!=(r=n.indexOf(t))&&n.splice(r,1))},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return-1==(r=r||(this._eventRegistry[e]=[])).indexOf(t)&&r[n?\"unshift\":\"push\"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};e=this._eventRegistry[e];!e||-1!==(t=e.indexOf(t))&&e.splice(t,1)},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r}),ace.define(\"ace/range\",[],function(e,t,n){\"use strict\";function o(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}}!function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t=e.end,e=e.start,t=this.compare(t.row,t.column);return 1==t?1==(t=this.compare(e.row,e.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(e.row,e.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){e=this.compareRange(e);return-1==e||0==e||1==e},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){\"object\"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){\"object\"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row!==e||t<=this.end.column?0:1:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){var n,r;return this.end.row>t?n={row:t+1,column:0}:this.end.row<e&&(n={row:e,column:0}),this.start.row>t?r={row:t+1,column:0}:this.start.row<e&&(r={row:e,column:0}),o.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n,r,i=this.compare(e,t);return 0==i?this:(-1==i?n={row:e,column:t}:r={row:e,column:t},o.fromPoints(n||this.start,r||this.end))},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),e=e.documentToScreenPosition(this.end);return new o(t.row,t.column,e.row,e.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}.call(o.prototype),o.fromPoints=function(e,t){return new o(e.row,e.column,t.row,t.column)},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=o}),ace.define(\"ace/anchor\",[],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/event_emitter\").EventEmitter,e=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};!function(){function a(e,t,n){n=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row||(e=function(e,t,n){var r=\"insert\"==e.action,i=(r?1:-1)*(e.end.row-e.start.row),o=(r?1:-1)*(e.end.column-e.start.column),s=e.start,r=r?s:e.end;if(a(t,s,n))return{row:t.row,column:t.column};if(a(r,t,!n))return{row:t.row+i,column:t.column+(t.row==r.row?o:0)};return{row:s.row,column:s.column}}(e,{row:this.row,column:this.column},this.$insertRight),this.setPosition(e.row,e.column,!0))},this.setPosition=function(e,t,n){n=n?{row:e,column:t}:this.$clipPositionToDocument(e,t);this.row==n.row&&this.column==n.column||(e={row:this.row,column:this.column},this.row=n.row,this.column=n.column,this._signal(\"change\",{old:e,value:n}))},this.detach=function(){this.document.off(\"change\",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}.call(e.prototype)}),ace.define(\"ace/document\",[],function(e,t,n){\"use strict\";function r(e){this.$lines=[\"\"],0===e.length?this.$lines=[\"\"]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}var i=e(\"./lib/oop\"),o=e(\"./apply_delta\").applyDelta,s=e(\"./lib/event_emitter\").EventEmitter,a=e(\"./range\").Range,u=e(\"./anchor\").Anchor;!function(){i.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new u(this,e,t)},0===\"aaa\".split(/a/).length?this.$split=function(e){return e.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:this.$split=function(e){return e.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(e){e=e.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=e?e[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return\"\\r\\n\"==e||\"\\r\"==e||\"\\n\"==e},this.getLine=function(e){return this.$lines[e]||\"\"},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t,n;return e.start.row===e.end.row?t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)]:((t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||\"\").substring(e.start.column),n=t.length-1,e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))),t},this.insertLines=function(e,t){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(e,[\"\",\"\"])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),e=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:e,action:\"insert\",lines:[t]},!0),this.clonePos(e)},this.clippedPos=function(e,t){var n=this.getLength(),n=(void 0===e?e=n:e<0?e=0:n<=e&&(e=n-1,t=void 0),this.getLine(e));return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0,n=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([\"\"]),0):(t=[\"\"].concat(t),this.$lines[--e].length);this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var e=this.clippedPos(e.row,e.column),n={row:e.row+t.length-1,column:(1==t.length?e.column:0)+t[t.length-1].length};return this.applyDelta({start:e,end:n,action:\"insert\",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),e=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:e,action:\"remove\",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},this.removeInLine=function(e,t,n){t=this.clippedPos(e,t),e=this.clippedPos(e,n);return this.applyDelta({start:t,end:e,action:\"remove\",lines:this.getLinesForRange({start:t,end:e})},!0),this.clonePos(t)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,r=t<this.getLength()-1,i=n?e-1:e,n=n?this.getLine(i).length:0,o=r?t+1:t,r=r?0:this.getLine(o).length,i=new a(i,n,o,r),n=this.$lines.slice(e,t+1);return this.applyDelta({start:i.start,end:i.end,action:\"remove\",lines:this.getLinesForRange(i)}),n},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n=\"insert\"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&2e4<e.lines.length?this.$splitAndapplyLargeDelta(e,2e4):(o(this.$lines,e,t),this._signal(\"change\",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;(\"remove\"==e.action&&e.start.row<t&&e.end.row<t||\"insert\"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,s=0,a=0;s<r;s=a){a+=t-1;var u=n.slice(s,a);u.push(\"\"),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:u},!0)}e.lines=n.slice(s),e.start.row=i+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:\"insert\"==e.action?\"remove\":\"insert\",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column}}.call(r.prototype),t.Document=r}),ace.define(\"ace/lib/lang\",[],function(e,t,n){\"use strict\";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split(\"\").reverse().join(\"\")},t.stringRepeat=function(e,t){for(var n=\"\";0<t;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\\s\\s*/,i=/\\s\\s*$/;t.stringTrimLeft=function(e){return e.replace(r,\"\")},t.stringTrimRight=function(e){return e.replace(i,\"\")},t.copyObject=function(e){var t,n={};for(t in e)n[t]=e[t];return n},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&\"object\"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if(\"object\"!=typeof t||!t)return t;if(Array.isArray(t))for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r]);else{if(\"[object Object]\"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r])}return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t,n=Object.create(null);for(t in e)n[t]=e[t];return n},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},t.escapeHTML=function(e){return(\"\"+e).replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){function t(){r=null,e()}function n(e){return n.cancel(),r=setTimeout(t,e||0),n}var r=null;return(n.schedule=n).call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(r),r=null,n},n.isPending=function(){return r},n},t.delayedCall=function(e,t){function n(){i=null,e()}function r(e){null==i&&(i=setTimeout(n,e||t))}var i=null;return r.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},(r.schedule=r).call=function(){this.cancel(),e()},r.cancel=function(){i&&clearTimeout(i),i=null},r.isPending=function(){return i},r}}),ace.define(\"ace/worker/mirror\",[],function(e,t,n){\"use strict\";var r=e(\"../document\").Document,i=e(\"../lib/lang\"),e=t.Mirror=function(e){this.sender=e;var o=this.doc=new r(\"\"),s=this.deferredUpdate=i.delayedCall(this.onUpdate.bind(this)),a=this;e.on(\"change\",function(e){var t=e.data;if(t[0].start)o.applyDeltas(t);else for(var n=0;n<t.length;n+=2){var r,i=Array.isArray(t[n+1])?{action:\"insert\",start:t[n],lines:t[n+1]}:{action:\"remove\",start:t[n],end:t[n+1]};if((\"insert\"==i.action?i.start:i.end).row>=o.$lines.length)throw(r=new Error(\"Invalid delta\")).data={path:a.$path,linesLength:o.$lines.length,start:i.start,end:i.end},r;o.applyDelta(i,!0)}if(a.$timeout)return s.schedule(a.$timeout);a.onUpdate()})};!function(){this.$timeout=500,this.setTimeout=function(e){this.$timeout=e},this.setValue=function(e){this.doc.setValue(e),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(e){this.sender.callback(this.doc.getValue(),e)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}.call(e.prototype)}),ace.define(\"ace/mode/lua/luaparse\",[],function(e,t,n){!function(n){\"use strict\";var c,l,u,o,f,i=(n.version=\"0.3.1\",n.defaultOptions={wait:false,comments:true,scope:false,locations:false,ranges:false,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:\"5.1\",encodingMode:\"none\"});function s(e,t){t=t||0;if(e<128)return String.fromCharCode(e);else if(e<2048)return String.fromCharCode(t|192|e>>6,t|128|e&63);else if(e<65536)return String.fromCharCode(t|224|e>>12,t|128|e>>6&63,t|128|e&63);else if(e<1114112)return String.fromCharCode(t|240|e>>18,t|128|e>>12&63,t|128|e>>6&63,t|128|e&63);else return null}function a(e,t){var n=e.toString(16);while(n.length<t)n=\"0\"+n;return n}function I(n){return function(e){var t=n.exec(e);if(!t)return e;E(null,g.invalidCodeUnit,a(t[0].charCodeAt(0),4).toUpperCase())}}var F={\"pseudo-latin1\":{fixup:I(/[^\\x00-\\xff]/),encodeByte:function(e){if(e===null)return\"\";return String.fromCharCode(e)},encodeUTF8:function(e){return s(e)}},\"x-user-defined\":{fixup:I(/[^\\x00-\\x7f\\uf780-\\uf7ff]/),encodeByte:function(e){if(e===null)return\"\";if(e>=128)return String.fromCharCode(e|63232);return String.fromCharCode(e)},encodeUTF8:function(e){return s(e,63232)}},none:{discardStrings:true,fixup:function(e){return e},encodeByte:function(e){return\"\"},encodeUTF8:function(e){return\"\"}}},q=1,h=2,p=4,d=8,V=16,m=32,G=64,B=128,H=256,g=(n.tokenTypes={EOF:q,StringLiteral:h,Keyword:p,Identifier:d,NumericLiteral:V,Punctuator:m,BooleanLiteral:G,NilLiteral:B,VarargLiteral:H},n.errors={unexpected:\"unexpected %1 '%2' near '%3'\",unexpectedEOF:\"unexpected symbol near '<eof>'\",expected:\"'%1' expected near '%2'\",expectedToken:\"%1 expected near '%2'\",unfinishedString:\"unfinished string near '%1'\",malformedNumber:\"malformed number near '%1'\",decimalEscapeTooLarge:\"decimal escape too large near '%1'\",invalidEscape:\"invalid escape sequence near '%1'\",hexadecimalDigitExpected:\"hexadecimal digit expected near '%1'\",braceExpected:\"missing '%1' near '%2'\",tooLargeCodepoint:\"UTF-8 value too large near '%1'\",unfinishedLongString:\"unfinished long string (starting at line %1) near '%2'\",unfinishedLongComment:\"unfinished long comment (starting at line %1) near '%2'\",ambiguousSyntax:\"ambiguous syntax (function call x new statement) near '%1'\",noLoopToBreak:\"no loop to break near '%1'\",labelAlreadyDefined:\"label '%1' already defined on line %2\",labelNotVisible:\"no visible label '%1' for <goto>\",gotoJumpInLocalScope:\"<goto %1> jumps into the scope of local '%2'\",cannotUseVararg:\"cannot use '...' outside a vararg function near '%1'\",invalidCodeUnit:\"code unit U+%1 is not allowed in the current encoding mode\"}),v=n.ast={labelStatement:function(e){return{type:\"LabelStatement\",label:e}},breakStatement:function(){return{type:\"BreakStatement\"}},gotoStatement:function(e){return{type:\"GotoStatement\",label:e}},returnStatement:function(e){return{type:\"ReturnStatement\",arguments:e}},ifStatement:function(e){return{type:\"IfStatement\",clauses:e}},ifClause:function(e,t){return{type:\"IfClause\",condition:e,body:t}},elseifClause:function(e,t){return{type:\"ElseifClause\",condition:e,body:t}},elseClause:function(e){return{type:\"ElseClause\",body:e}},whileStatement:function(e,t){return{type:\"WhileStatement\",condition:e,body:t}},doStatement:function(e){return{type:\"DoStatement\",body:e}},repeatStatement:function(e,t){return{type:\"RepeatStatement\",condition:e,body:t}},localStatement:function(e,t){return{type:\"LocalStatement\",variables:e,init:t}},assignmentStatement:function(e,t){return{type:\"AssignmentStatement\",variables:e,init:t}},callStatement:function(e){return{type:\"CallStatement\",expression:e}},functionStatement:function(e,t,n,r){return{type:\"FunctionDeclaration\",identifier:e,isLocal:n,parameters:t,body:r}},forNumericStatement:function(e,t,n,r,i){return{type:\"ForNumericStatement\",variable:e,start:t,end:n,step:r,body:i}},forGenericStatement:function(e,t,n){return{type:\"ForGenericStatement\",variables:e,iterators:t,body:n}},chunk:function(e){return{type:\"Chunk\",body:e}},identifier:function(e){return{type:\"Identifier\",name:e}},literal:function(e,t,n){e=e===h?\"StringLiteral\":e===V?\"NumericLiteral\":e===G?\"BooleanLiteral\":e===B?\"NilLiteral\":\"VarargLiteral\";return{type:e,value:t,raw:n}},tableKey:function(e,t){return{type:\"TableKey\",key:e,value:t}},tableKeyString:function(e,t){return{type:\"TableKeyString\",key:e,value:t}},tableValue:function(e){return{type:\"TableValue\",value:e}},tableConstructorExpression:function(e){return{type:\"TableConstructorExpression\",fields:e}},binaryExpression:function(e,t,n){var r=\"and\"===e||\"or\"===e?\"LogicalExpression\":\"BinaryExpression\";return{type:r,operator:e,left:t,right:n}},unaryExpression:function(e,t){return{type:\"UnaryExpression\",operator:e,argument:t}},memberExpression:function(e,t,n){return{type:\"MemberExpression\",indexer:t,identifier:n,base:e}},indexExpression:function(e,t){return{type:\"IndexExpression\",base:e,index:t}},callExpression:function(e,t){return{type:\"CallExpression\",base:e,arguments:t}},tableCallExpression:function(e,t){return{type:\"TableCallExpression\",base:e,arguments:t}},stringCallExpression:function(e,t){return{type:\"StringCallExpression\",base:e,argument:t}},comment:function(e,t){return{type:\"Comment\",value:e,raw:t}}};function w(e){if(_){var t=$.pop();t.complete();t.bless(e)}if(l.onCreateNode)l.onCreateNode(e);return e}var z=Array.prototype.slice,K=Object.prototype.toString,W=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};if(Array.prototype.indexOf)W=function(e,t){return e.indexOf(t)};function J(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r][t]===n)return r;return-1}function X(e){var n=z.call(arguments,1);e=e.replace(/%(\\d)/g,function(e,t){return\"\"+n[t-1]||\"\"});return e}var Q=function(e){var t=z.call(arguments,1),n,r;for(var i=0,o=t.length;i<o;++i){n=t[i];for(r in n)if(Object.prototype.hasOwnProperty.call(n,r))e[r]=n[r]}return e},y,b,x,Y,Z,L,S,C,ee,te,ne;if(Object.assign)Q=Object.assign;function re(e){if(!Object.create)return e;return Object.create(e,{line:{writable:true,value:e.line},index:{writable:true,value:e.index},column:{writable:true,value:e.column}})}function E(e){var t=X.apply(null,z.call(arguments,1)),n,r;if(e===null||typeof e.line===\"undefined\"){r=y-C+1;n=re(new SyntaxError(X(\"[%1:%2] %3\",S,r,t)));n.index=y;n.line=S;n.column=r}else{r=e.range[0]-e.lineStart;n=re(new SyntaxError(X(\"[%1:%2] %3\",e.line,r,t)));n.line=e.line;n.index=e.range[0];n.column=r}throw n}function ie(e){var t=c.slice(e.range[0],e.range[1]);if(t)return t;return e.value}function oe(e,t){E(t,g.expectedToken,e,ie(t))}function se(e){var t=ie(Y);if(\"undefined\"!==typeof e.type){var n;switch(e.type){case h:n=\"string\";break;case p:n=\"keyword\";break;case d:n=\"identifier\";break;case V:n=\"number\";break;case m:n=\"symbol\";break;case G:n=\"boolean\";break;case B:return E(e,g.unexpected,\"symbol\",\"nil\",t);case q:return E(e,g.unexpectedEOF)}return E(e,g.unexpected,n,ie(e),t)}return E(e,g.unexpected,\"symbol\",e,t)}function ae(){ce();while(45===c.charCodeAt(y)&&45===c.charCodeAt(y+1)){xe();ce()}if(y>=u)return{type:q,value:\"<eof>\",line:S,lineStart:C,range:[y,y]};var e=c.charCodeAt(y),t=c.charCodeAt(y+1);L=y;if(Ae(e))return le();switch(e){case 39:case 34:return he();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return de();case 46:if(P(t))return de();if(46===t){if(46===c.charCodeAt(y+2))return fe();return r(\"..\")}return r(\".\");case 61:if(61===t)return r(\"==\");return r(\"=\");case 62:if(o.bitwiseOperators)if(62===t)return r(\">>\");if(61===t)return r(\">=\");return r(\">\");case 60:if(o.bitwiseOperators)if(60===t)return r(\"<<\");if(61===t)return r(\"<=\");return r(\"<\");case 126:if(61===t)return r(\"~=\");if(!o.bitwiseOperators)break;return r(\"~\");case 58:if(o.labels)if(58===t)return r(\"::\");return r(\":\");case 91:if(91===t||61===t)return pe();return r(\"[\");case 47:if(o.integerDivision)if(47===t)return r(\"//\");return r(\"/\");case 38:case 124:if(!o.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return r(c.charAt(y))}return se(c.charAt(y))}function ue(){var e=c.charCodeAt(y),t=c.charCodeAt(y+1);if(Ce(e)){if(10===e&&13===t)++y;if(13===e&&10===t)++y;++S;C=++y;return true}return false}function ce(){while(y<u){var e=c.charCodeAt(y);if(Se(e))++y;else if(!ue())break}}function le(){var e,t;while(ke(c.charCodeAt(++y)));e=f.fixup(c.slice(L,y));if(De(e))t=p;else if(\"true\"===e||\"false\"===e){t=G;e=\"true\"===e}else if(\"nil\"===e){t=B;e=null}else t=d;return{type:t,value:e,line:S,lineStart:C,range:[L,y]}}function r(e){y+=e.length;return{type:m,value:e,line:S,lineStart:C,range:[L,y]}}function fe(){y+=3;return{type:H,value:\"...\",line:S,lineStart:C,range:[L,y]}}function he(){var e=c.charCodeAt(y++),t=S,n=C,r=y,i=f.discardStrings?null:\"\",o;for(;;){o=c.charCodeAt(y++);if(e===o)break;if(y>u||Ce(o)){i+=c.slice(r,y-1);E(null,g.unfinishedString,c.slice(L,y-1))}if(92===o){if(!f.discardStrings){var s=c.slice(r,y-1);i+=f.fixup(s)}var a=be();if(!f.discardStrings)i+=a;r=y}}if(!f.discardStrings){i+=f.encodeByte(null);i+=f.fixup(c.slice(r,y-1))}return{type:h,value:i,line:t,lineStart:n,lastLine:S,lastLineStart:C,range:[L,y]}}function pe(){var e=S,t=C,n=Le(false);if(false===n)E(b,g.expected,\"[\",ie(b));return{type:h,value:f.discardStrings?null:f.fixup(n),line:e,lineStart:t,lastLine:S,lastLineStart:C,range:[L,y]}}function de(){var e=c.charAt(y),t=c.charAt(y+1);var n=\"0\"===e&&\"xX\".indexOf(t||null)>=0?ve():we();var r=me(),i=ge();if(i&&(r||n.hasFractionPart))E(null,g.malformedNumber,c.slice(L,y));return{type:V,value:n.value,line:S,lineStart:C,range:[L,y]}}function me(){if(!o.imaginaryNumbers)return;if(\"iI\".indexOf(c.charAt(y)||null)>=0){++y;return true}else return false}function ge(){if(!o.integerSuffixes)return;if(\"uU\".indexOf(c.charAt(y)||null)>=0){++y;if(\"lL\".indexOf(c.charAt(y)||null)>=0){++y;if(\"lL\".indexOf(c.charAt(y)||null)>=0){++y;return\"ULL\"}else E(null,g.malformedNumber,c.slice(L,y))}else E(null,g.malformedNumber,c.slice(L,y))}else if(\"lL\".indexOf(c.charAt(y)||null)>=0){++y;if(\"lL\".indexOf(c.charAt(y)||null)>=0){++y;return\"LL\"}else E(null,g.malformedNumber,c.slice(L,y))}}function ve(){var e=0,t=1,n=1,r,i,o,s;s=y+=2;if(!Ee(c.charCodeAt(y)))E(null,g.malformedNumber,c.slice(L,y));while(Ee(c.charCodeAt(y)))++y;r=parseInt(c.slice(s,y),16);var a=false;if(\".\"===c.charAt(y)){a=true;i=++y;while(Ee(c.charCodeAt(y)))++y;e=c.slice(i,y);e=i===y?0:parseInt(e,16)/Math.pow(16,y-i)}var u=false;if(\"pP\".indexOf(c.charAt(y)||null)>=0){u=true;++y;if(\"+-\".indexOf(c.charAt(y)||null)>=0)n=\"+\"===c.charAt(y++)?1:-1;o=y;if(!P(c.charCodeAt(y)))E(null,g.malformedNumber,c.slice(L,y));while(P(c.charCodeAt(y)))++y;t=c.slice(o,y);t=Math.pow(2,t*n)}return{value:(r+e)*t,hasFractionPart:a||u}}function we(){while(P(c.charCodeAt(y)))++y;var e=false;if(\".\"===c.charAt(y)){e=true;++y;while(P(c.charCodeAt(y)))++y}var t=false;if(\"eE\".indexOf(c.charAt(y)||null)>=0){t=true;++y;if(\"+-\".indexOf(c.charAt(y)||null)>=0)++y;if(!P(c.charCodeAt(y)))E(null,g.malformedNumber,c.slice(L,y));while(P(c.charCodeAt(y)))++y}return{value:parseFloat(c.slice(L,y)),hasFractionPart:e||t}}function ye(){var e=y++;if(c.charAt(y++)!==\"{\")E(null,g.braceExpected,\"{\",\"\\\\\"+c.slice(e,y));if(!Ee(c.charCodeAt(y)))E(null,g.hexadecimalDigitExpected,\"\\\\\"+c.slice(e,y));while(c.charCodeAt(y)===48)++y;var t=y;while(Ee(c.charCodeAt(y))){++y;if(y-t>6)E(null,g.tooLargeCodepoint,\"\\\\\"+c.slice(e,y))}var n=c.charAt(y++);if(n!==\"}\")if(n==='\"'||n===\"'\")E(null,g.braceExpected,\"}\",\"\\\\\"+c.slice(e,y--));else E(null,g.hexadecimalDigitExpected,\"\\\\\"+c.slice(e,y));var r=parseInt(c.slice(t,y-1)||\"0\",16);var i=\"\\\\\"+c.slice(e,y);if(r>1114111)E(null,g.tooLargeCodepoint,i);return f.encodeUTF8(r,i)}function be(){var e=y;switch(c.charAt(y)){case\"a\":++y;return\"\u0007\";case\"n\":++y;return\"\\n\";case\"r\":++y;return\"\\r\";case\"t\":++y;return\"\\t\";case\"v\":++y;return\"\\v\";case\"b\":++y;return\"\\b\";case\"f\":++y;return\"\\f\";case\"\\r\":case\"\\n\":ue();return\"\\n\";case\"0\":case\"1\":case\"2\":case\"3\":case\"4\":case\"5\":case\"6\":case\"7\":case\"8\":case\"9\":while(P(c.charCodeAt(y))&&y-e<3)++y;var t=c.slice(e,y);var n=parseInt(t,10);if(n>255)E(null,g.decimalEscapeTooLarge,\"\\\\\"+n);return f.encodeByte(n,\"\\\\\"+t);case\"z\":if(o.skipWhitespaceEscape){++y;ce();return\"\"}break;case\"x\":if(o.hexEscapes){if(Ee(c.charCodeAt(y+1))&&Ee(c.charCodeAt(y+2))){y+=3;return f.encodeByte(parseInt(c.slice(e+1,y),16),\"\\\\\"+c.slice(e,y))}E(null,g.hexadecimalDigitExpected,\"\\\\\"+c.slice(e,y+2))}break;case\"u\":if(o.unicodeEscapes)return ye();break;case\"\\\\\":case'\"':case\"'\":return c.charAt(y++)}if(o.strictEscapes)E(null,g.invalidEscape,\"\\\\\"+c.slice(e,y+1));return c.charAt(y++)}function xe(){L=y;y+=2;var e=c.charAt(y),t=\"\",n=false,r=y,i=C,o=S;if(\"[\"===e){t=Le(true);if(false===t)t=e;else n=true}if(!n){while(y<u){if(Ce(c.charCodeAt(y)))break;++y}if(l.comments)t=c.slice(r,y)}if(l.comments){var s=v.comment(t,c.slice(L,y));if(l.locations)s.loc={start:{line:o,column:L-i},end:{line:S,column:y-C}};if(l.ranges)s.range=[L,y];if(l.onCreateNode)l.onCreateNode(s);Z.push(s)}}function Le(e){var t=0,n=\"\",r=false,i,o,s=S;++y;while(\"=\"===c.charAt(y+t))++t;if(\"[\"!==c.charAt(y+t))return false;y+=t+1;if(Ce(c.charCodeAt(y)))ue();o=y;while(y<u){while(Ce(c.charCodeAt(y)))ue();i=c.charAt(y++);if(\"]\"===i){r=true;for(var a=0;a<t;++a)if(\"=\"!==c.charAt(y+a))r=false;if(\"]\"!==c.charAt(y+t))r=false}if(r){n+=c.slice(o,y-1);y+=t+1;return n}}E(null,e?g.unfinishedLongComment:g.unfinishedLongString,s,\"<eof>\")}function A(){x=b;b=Y;Y=ae()}function k(e){if(e===b.value){A();return true}return false}function D(e){if(e===b.value)A();else E(b,g.expected,e,ie(b))}function Se(e){return 9===e||32===e||11===e||12===e}function Ce(e){return 10===e||13===e}function P(e){return e>=48&&e<=57}function Ee(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Ae(e){if(e>=65&&e<=90||e>=97&&e<=122||95===e)return true;if(o.extendedIdentifiers&&e>=128)return true;return false}function ke(e){if(e>=65&&e<=90||e>=97&&e<=122||95===e||e>=48&&e<=57)return true;if(o.extendedIdentifiers&&e>=128)return true;return false}function De(e){switch(e.length){case 2:return\"do\"===e||\"if\"===e||\"in\"===e||\"or\"===e;case 3:return\"and\"===e||\"end\"===e||\"for\"===e||\"not\"===e;case 4:if(\"else\"===e||\"then\"===e)return true;if(o.labels&&!o.contextualGoto)return\"goto\"===e;return false;case 5:return\"break\"===e||\"local\"===e||\"until\"===e||\"while\"===e;case 6:return\"elseif\"===e||\"repeat\"===e||\"return\"===e;case 8:return\"function\"===e}return false}function Pe(e){if(m===e.type)return\"#-~\".indexOf(e.value)>=0;if(p===e.type)return\"not\"===e.value;return false}function Me(e){if(q===e.type)return true;if(p!==e.type)return false;switch(e.value){case\"else\":case\"elseif\":case\"end\":case\"until\":return true;default:return false}}function M(){var e=ee[te++].slice();ee.push(e);if(l.onCreateScope)l.onCreateScope()}function O(){var e=ee.pop();--te;if(l.onDestroyScope)l.onDestroyScope()}function Oe(e){if(l.onLocalDeclaration)l.onLocalDeclaration(e);if(-1!==W(ee[te],e))return;ee[te].push(e)}function $e(e){Oe(e.name);_e(e,true)}function _e(e,t){if(!t&&-1===J(ne,\"name\",e.name))ne.push(e);e.isLocal=t}function Ne(e){return-1!==W(ee[te],e)}n.SyntaxError=SyntaxError,n.lex=ae;var $=[],_;function N(){return new Te(b)}function Te(e){if(l.locations)this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}};if(l.ranges)this.range=[e.range[0],0]}function Re(){if(_)$.push(N())}function T(e){if(_)$.push(e)}function e(){this.scopes=[];this.pendingGotos=[]}function t(){this.level=0;this.loopLevels=[]}function je(){return o.labels?new e:new t}function Ue(){A();Re();if(l.scope)M();var e=je();e.allowVararg=true;e.pushScope();var t=R(e);e.popScope();if(l.scope)O();if(q!==b.type)se(b);if(_&&!t.length)x=b;return w(v.chunk(t))}function R(e){var t=[],n;while(!Me(b)){if(\"return\"===b.value||!o.relaxedBreak&&\"break\"===b.value){t.push(Ie(e));break}n=Ie(e);k(\";\");if(n)t.push(n)}return t}function Ie(e){Re();if(m===b.type)if(k(\"::\"))return Fe(e);if(o.emptyStatement)if(k(\";\")){if(_)$.pop();return}e.raiseDeferredErrors();if(p===b.type)switch(b.value){case\"local\":A();return Je(e);case\"if\":A();return Ke(e);case\"return\":A();return ze(e);case\"function\":A();var t=Ye();return Qe(t);case\"while\":A();return Be(e);case\"for\":A();return We(e);case\"repeat\":A();return He(e);case\"break\":A();if(!e.isInLoop())E(b,g.noLoopToBreak,b.value);return qe();case\"do\":A();return Ge(e);case\"goto\":A();return Ve(e)}if(o.contextualGoto&&b.type===d&&b.value===\"goto\"&&Y.type===d&&Y.value!==\"goto\"){A();return Ve(e)}if(_)$.pop();return Xe(e)}function Fe(e){var t=b,n=j();if(l.scope){Oe(\"::\"+t.value+\"::\");_e(n,true)}D(\"::\");e.addLabel(t.value,t);return w(v.labelStatement(n))}function qe(){return w(v.breakStatement())}function Ve(e){var t=b.value,n=x,r=j();e.addGoto(t,n);return w(v.gotoStatement(r))}function Ge(e){if(l.scope)M();e.pushScope();var t=R(e);e.popScope();if(l.scope)O();D(\"end\");return w(v.doStatement(t))}function Be(e){var t=U(e);D(\"do\");if(l.scope)M();e.pushScope(true);var n=R(e);e.popScope();if(l.scope)O();D(\"end\");return w(v.whileStatement(t,n))}function He(e){if(l.scope)M();e.pushScope(true);var t=R(e);D(\"until\");e.raiseDeferredErrors();var n=U(e);e.popScope();if(l.scope)O();return w(v.repeatStatement(n,t))}function ze(e){var t=[];if(\"end\"!==b.value){var n=et(e);if(null!=n)t.push(n);while(k(\",\")){n=U(e);t.push(n)}k(\";\")}return w(v.returnStatement(t))}function Ke(e){var t=[],n,r,i;if(_){i=$[$.length-1];$.push(i)}n=U(e);D(\"then\");if(l.scope)M();e.pushScope();r=R(e);e.popScope();if(l.scope)O();t.push(w(v.ifClause(n,r)));if(_)i=N();while(k(\"elseif\")){T(i);n=U(e);D(\"then\");if(l.scope)M();e.pushScope();r=R(e);e.popScope();if(l.scope)O();t.push(w(v.elseifClause(n,r)));if(_)i=N()}if(k(\"else\")){if(_){i=new Te(x);$.push(i)}if(l.scope)M();e.pushScope();r=R(e);e.popScope();if(l.scope)O();t.push(w(v.elseClause(r)))}D(\"end\");return w(v.ifStatement(t))}function We(e){var t=j(),n;if(l.scope){M();$e(t)}if(k(\"=\")){var r=U(e);D(\",\");var i=U(e);var o=k(\",\")?U(e):null;D(\"do\");e.pushScope(true);n=R(e);e.popScope();D(\"end\");if(l.scope)O();return w(v.forNumericStatement(t,r,i,o,n))}else{var s=[t];while(k(\",\")){t=j();if(l.scope)$e(t);s.push(t)}D(\"in\");var a=[];do{var u=U(e);a.push(u)}while(k(\",\"));D(\"do\");e.pushScope(true);n=R(e);e.popScope();D(\"end\");if(l.scope)O();return w(v.forGenericStatement(s,a,n))}}function Je(e){var t,n=x;if(d===b.type){var r=[],i=[];do{t=j();r.push(t);e.addLocal(t.name,n)}while(k(\",\"));if(k(\"=\"))do{var o=U(e);i.push(o)}while(k(\",\"));if(l.scope)for(var s=0,a=r.length;s<a;++s)$e(r[s]);return w(v.localStatement(r,i))}if(k(\"function\")){t=j();e.addLocal(t.name,n);if(l.scope){$e(t);M()}return Qe(t,true)}else oe(\"<name>\",b)}function Xe(e){var t=b,n,r;var i,o,s;var a=[];if(_)r=N();do{if(_)n=N();if(d===b.type){s=b.value;o=j();if(l.scope)_e(o,Ne(s));i=true}else if(\"(\"===b.value){A();o=U(e);D(\")\");i=false}else return se(b);e:for(;;){var u;switch(h===b.type?'\"':b.value){case\".\":case\"[\":i=true;break;case\":\":case\"(\":case\"{\":case'\"':i=null;break;default:break e}o=rt(o,n,e)}a.push(o);if(\",\"!==b.value)break;if(!i)return se(b);A()}while(true);if(a.length===1&&i===null){T(n);return w(v.callStatement(a[0]))}else if(!i)return se(b);D(\"=\");var c=[];do{c.push(U(e))}while(k(\",\"));T(r);return w(v.assignmentStatement(a,c))}function j(){Re();var e=b.value;if(d!==b.type)oe(\"<name>\",b);A();return w(v.identifier(e))}function Qe(e,t){var n=je();n.pushScope();var r=[];D(\"(\");if(!k(\")\"))while(true){if(d===b.type){var i=j();if(l.scope)$e(i);r.push(i);if(k(\",\"))continue}else if(H===b.type){n.allowVararg=true;r.push(st(n))}else oe(\"<name> or '...'\",b);D(\")\");break}var o=R(n);n.popScope();D(\"end\");if(l.scope)O();t=t||false;return w(v.functionStatement(e,r,t,o))}function Ye(){var e,t,n;if(_)n=N();e=j();if(l.scope){_e(e,Ne(e.name));M()}while(k(\".\")){T(n);t=j();e=w(v.memberExpression(e,\".\",t))}if(k(\":\")){T(n);t=j();e=w(v.memberExpression(e,\":\",t));if(l.scope)Oe(\"self\")}return e}function Ze(e){var t=[],n,r;while(true){Re();if(m===b.type&&k(\"[\")){n=U(e);D(\"]\");D(\"=\");r=U(e);t.push(w(v.tableKey(n,r)))}else if(d===b.type)if(\"=\"===Y.value){n=j();A();r=U(e);t.push(w(v.tableKeyString(n,r)))}else{r=U(e);t.push(w(v.tableValue(r)))}else{if(null==(r=et(e))){$.pop();break}t.push(w(v.tableValue(r)))}if(\",;\".indexOf(b.value)>=0){A();continue}break}D(\"}\");return w(v.tableConstructorExpression(t))}function et(e){var t=nt(0,e);return t}function U(e){var t=et(e);if(null==t)oe(\"<expression>\",b);else return t}function tt(e){var t=e.charCodeAt(0),n=e.length;if(1===n)switch(t){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(2===n)switch(t){case 47:return 10;case 46:return 8;case 60:case 62:if(\"<<\"===e||\">>\"===e)return 7;return 3;case 61:case 126:return 3;case 111:return 1}else if(97===t&&\"and\"===e)return 2;return 0}function nt(e,t){var n=b.value,r,i;if(_)i=N();if(Pe(b)){Re();A();var o=nt(10,t);if(o==null)oe(\"<expression>\",b);r=w(v.unaryExpression(n,o))}if(null==r){r=st(t);if(null==r)r=it(t)}if(null==r)return null;var s;while(true){n=b.value;s=m===b.type||p===b.type?tt(n):0;if(s===0||s<=e)break;if(\"^\"===n||\"..\"===n)--s;A();var a=nt(s,t);if(null==a)oe(\"<expression>\",b);if(_)$.push(i);r=w(v.binaryExpression(n,r,a))}return r}function rt(e,t,n){var r,i;if(m===b.type)switch(b.value){case\"[\":T(t);A();r=U(n);D(\"]\");return w(v.indexExpression(e,r));case\".\":T(t);A();i=j();return w(v.memberExpression(e,\".\",i));case\":\":T(t);A();i=j();e=w(v.memberExpression(e,\":\",i));T(t);return ot(e,n);case\"(\":case\"{\":T(t);return ot(e,n)}else if(h===b.type){T(t);return ot(e,n)}return null}function it(e){var t,n,r;if(_)r=N();if(d===b.type){n=b.value;t=j();if(l.scope)_e(t,Ne(n))}else if(k(\"(\")){t=U(e);D(\")\")}else return null;for(;;){var i=rt(t,r,e);if(i===null)break;t=i}return t}function ot(e,t){if(m===b.type)switch(b.value){case\"(\":if(!o.emptyStatement)if(b.line!==x.line)E(null,g.ambiguousSyntax,b.value);A();var n=[];var r=et(t);if(null!=r)n.push(r);while(k(\",\")){r=U(t);n.push(r)}D(\")\");return w(v.callExpression(e,n));case\"{\":Re();A();var i=Ze(t);return w(v.tableCallExpression(e,i))}else if(h===b.type)return w(v.stringCallExpression(e,st(t)));oe(\"function arguments\",b)}function st(e){var t=h|V|G|B|H,n=b.value,r=b.type,i;if(_)i=N();if(r===H&&!e.allowVararg)E(b,g.cannotUseVararg,b.value);if(r&t){T(i);var o=c.slice(b.range[0],b.range[1]);A();return w(v.literal(r,n,o))}else if(p===r&&\"function\"===n){T(i);A();if(l.scope)M();return Qe(null)}else if(k(\"{\")){T(i);return Ze(e)}}Te.prototype.complete=function(){if(l.locations){this.loc.end.line=x.lastLine||x.line;this.loc.end.column=x.range[1]-(x.lastLineStart||x.lineStart)}if(l.ranges)this.range[1]=x.range[1]},Te.prototype.bless=function(e){if(this.loc){var t=this.loc;e.loc={start:{line:t.start.line,column:t.start.column},end:{line:t.end.line,column:t.end.column}}}if(this.range)e.range=[this.range[0],this.range[1]]},e.prototype.isInLoop=function(){var e=this.scopes.length;while(e-- >0)if(this.scopes[e].isLoop)return true;return false},e.prototype.pushScope=function(e){var t={labels:{},locals:[],deferredGotos:[],isLoop:!!e};this.scopes.push(t)},e.prototype.popScope=function(){for(var e=0;e<this.pendingGotos.length;++e){var t=this.pendingGotos[e];if(t.maxDepth>=this.scopes.length)if(--t.maxDepth<=0)E(t.token,g.labelNotVisible,t.target)}this.scopes.pop()},e.prototype.addGoto=function(e,t){var n=[];for(var r=0;r<this.scopes.length;++r){var i=this.scopes[r];n.push(i.locals.length);if(Object.prototype.hasOwnProperty.call(i.labels,e))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:e,token:t,localCounts:n})},e.prototype.addLabel=function(e,t){var n=this.currentScope();if(Object.prototype.hasOwnProperty.call(n.labels,e))E(t,g.labelAlreadyDefined,e,n.labels[e].line);else{var r=[];for(var i=0;i<this.pendingGotos.length;++i){var o=this.pendingGotos[i];if(o.maxDepth>=this.scopes.length&&o.target===e){if(o.localCounts[this.scopes.length-1]<n.locals.length)n.deferredGotos.push(o);continue}r.push(o)}this.pendingGotos=r}n.labels[e]={localCount:n.locals.length,line:t.line}},e.prototype.addLocal=function(e,t){this.currentScope().locals.push({name:e,token:t})},e.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},e.prototype.raiseDeferredErrors=function(){var e=this.currentScope();var t=e.deferredGotos;for(var n=0;n<t.length;++n){var r=t[n];E(r.token,g.gotoJumpInLocalScope,r.target,e.locals[r.localCounts[this.scopes.length-1]].name)}},t.prototype.isInLoop=function(){return!!this.loopLevels.length},t.prototype.pushScope=function(e){++this.level;if(e)this.loopLevels.push(this.level)},t.prototype.popScope=function(){var e=this.loopLevels;var t=e.length;if(t)if(e[t-1]===this.level)e.pop();--this.level},t.prototype.addGoto=t.prototype.addLabel=function(){throw new Error(\"This should never happen\")},t.prototype.addLocal=t.prototype.raiseDeferredErrors=function(){},n.parse=ut;var at={5.1:{},5.2:{labels:true,emptyStatement:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,relaxedBreak:true},5.3:{labels:true,emptyStatement:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,unicodeEscapes:true,bitwiseOperators:true,integerDivision:true,relaxedBreak:true},LuaJIT:{labels:true,contextualGoto:true,hexEscapes:true,skipWhitespaceEscape:true,strictEscapes:true,unicodeEscapes:true,imaginaryNumbers:true,integerSuffixes:true}};function ut(e,t){if(\"undefined\"===typeof t&&\"object\"===typeof e){t=e;e=undefined}if(!t)t={};c=e||\"\";l=Q({},i,t);y=0;S=1;C=0;u=c.length;ee=[[]];te=0;ne=[];$=[];if(!Object.prototype.hasOwnProperty.call(at,l.luaVersion))throw new Error(X(\"Lua version '%1' not supported\",l.luaVersion));o=Q({},at[l.luaVersion]);if(l.extendedIdentifiers!==void 0)o.extendedIdentifiers=!!l.extendedIdentifiers;if(!Object.prototype.hasOwnProperty.call(F,l.encodingMode))throw new Error(X(\"Encoding mode '%1' not supported\",l.encodingMode));f=F[l.encodingMode];if(l.comments)Z=[];if(!l.wait)return lt();return n}function ct(e){c+=String(e);u=c.length;return n}function lt(e){if(\"undefined\"!==typeof e)ct(e);if(c&&c.substr(0,2)===\"#!\")c=c.replace(/^.*/,function(e){return e.replace(/./g,\" \")});u=c.length;_=l.locations||l.ranges;Y=ae();var t=Ue();if(l.comments)t.comments=Z;if(l.scope)t.globals=ne;if($.length>0)throw new Error(\"Location tracking failed. This is most likely a bug in luaparse\");return t}n.write=ct,n.end=lt}(t)}),ace.define(\"ace/mode/lua_worker\",[],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../worker/mirror\").Mirror,o=e(\"../mode/lua/luaparse\"),e=t.Worker=function(e){i.call(this,e),this.setTimeout(500)};r.inherits(e,i),function(){this.onUpdate=function(){var e=this.doc.getValue(),t=[];try{o.parse(e)}catch(e){e instanceof o.SyntaxError&&t.push({row:e.line-1,column:e.column,text:e.message,type:\"error\"})}this.sender.emit(\"annotate\",t)}}.call(e.prototype)});";